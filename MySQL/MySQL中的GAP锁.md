GAP即间隙锁，在老版MySQL中没有间隙锁是，RR级别下可能存在幻读问题。新版本中通过GAP锁解决了幻读问题。
在索引记录之间，或者在索引之前，或者索引之后的区间上加锁，就是gap锁。
一个gap锁可能会锁一个索引、多个索引、或者空索引，gap锁权衡了性能和并发，并且它只用作于特定的隔离级别。
> 幻读问题：例如在RR隔离级别下，MySQL是基于行锁的，例如一次数据我查出了5个数据（采用column=3的条件），则我会对这些数据加上行锁，那么如果另一个事务对表插入了column为3的值，此时由于插入没有写锁，所以插入成功了。那么第二次（采用column=3）查询时会出现了6个数据，这就破坏了RR隔离级别的隔离性，这也就是幻读。

GAP锁是用在索引上的一种间隙锁，当对数据加写锁时同时也会加上GAP锁。例如我对column为3的值的间隙加上间隙锁，此时由于column是一个非聚簇索引，基于B+树的结构如果这个时候你要插入一个column为3的数据，此时会被GAP锁相排斥。
对于没有索引的字段，则会对所有行加GAP锁，使得整个表无法插入数据。
​

注意如果你的column是主键索引或者唯一索引，此时不会使用GAP锁，这是由于索引约束了这个字段的唯一性，因此不存在幻读问题。
